[gd_scene load_steps=12 format=3 uid="uid://dj6e7xh4njtlj"]

[ext_resource type="PackedScene" uid="uid://dxtfc3ofiogqk" path="res://bullet_hell/gameplay/bh_player.tscn" id="1_le3bt"]
[ext_resource type="Script" path="res://bullet_hell/bullet_hell_game.gd" id="1_ruomc"]
[ext_resource type="JSON" uid="uid://cjmrk1ysk2dsp" path="res://bullet_hell/tutorial_word_groups.tres" id="2_625l7"]
[ext_resource type="PackedScene" uid="uid://c5rvnoi1v7yxh" path="res://bullet_hell/display/bh_ui.tscn" id="3_5sicw"]
[ext_resource type="Script" path="res://bullet_hell/script_handler.gd" id="5_eia4t"]
[ext_resource type="PackedScene" uid="uid://bmqy68ba644tc" path="res://bullet_hell/display/bh_camera.tscn" id="7_ybxu1"]

[sub_resource type="SegmentShape2D" id="SegmentShape2D_fpm7c"]
a = Vector2(758, 73)
b = Vector2(758, 892)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_1jwpp"]
a = Vector2(1625, 73)
b = Vector2(1625, 892)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_ls2kp"]
a = Vector2(758, 73)
b = Vector2(1625, 73)

[sub_resource type="SegmentShape2D" id="SegmentShape2D_0thoo"]
a = Vector2(1625, 892)
b = Vector2(758, 892)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_upp13"]
size = Vector2(992, 946)

[node name="bullet_hell_game" type="Node2D"]
script = ExtResource("1_ruomc")
script_file_path = "res://bullet_hell/tutorial_script2.txt"
word_groups = ExtResource("2_625l7")

[node name="SoundEffects" type="Node" parent="."]

[node name="BulletSpawn" type="AudioStreamPlayer" parent="SoundEffects"]

[node name="WordSpawn" type="AudioStreamPlayer" parent="SoundEffects"]

[node name="CorrectWord" type="AudioStreamPlayer" parent="SoundEffects"]

[node name="IncorrectWord" type="AudioStreamPlayer" parent="SoundEffects"]

[node name="Environment" type="Node" parent="."]

[node name="WordTimer" type="Timer" parent="Environment"]
wait_time = 5.0
one_shot = true

[node name="BulletTimer" type="Timer" parent="Environment"]
autostart = true

[node name="Background" type="ColorRect" parent="Environment"]
z_index = -10
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_right = 1920.0
offset_bottom = 1080.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 1)

[node name="Walls" type="StaticBody2D" parent="Environment"]
collision_layer = 2
collision_mask = 0

[node name="Left" type="CollisionShape2D" parent="Environment/Walls"]
shape = SubResource("SegmentShape2D_fpm7c")

[node name="Right" type="CollisionShape2D" parent="Environment/Walls"]
shape = SubResource("SegmentShape2D_1jwpp")

[node name="Top" type="CollisionShape2D" parent="Environment/Walls"]
shape = SubResource("SegmentShape2D_ls2kp")

[node name="Bottom" type="CollisionShape2D" parent="Environment/Walls"]
shape = SubResource("SegmentShape2D_0thoo")

[node name="BulletDespawnArea" type="Area2D" parent="Environment"]
visible = false
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Environment/BulletDespawnArea"]
position = Vector2(1196, 501)
shape = SubResource("RectangleShape2D_upp13")

[node name="bh_player" parent="." instance=ExtResource("1_le3bt")]
position = Vector2(1200, 500)
collision_mask = 2

[node name="bh_ui" parent="." instance=ExtResource("3_5sicw")]

[node name="bh_camera" parent="." instance=ExtResource("7_ybxu1")]

[node name="script_handler" type="Node2D" parent="."]
script = ExtResource("5_eia4t")

[node name="Timer" type="Timer" parent="script_handler"]

[connection signal="timeout" from="Environment/WordTimer" to="." method="_on_word_timer_timeout"]
[connection signal="timeout" from="Environment/BulletTimer" to="." method="_on_bullet_timer_timeout"]
[connection signal="hit" from="bh_player" to="bh_ui" method="_on_bh_player_hit"]
[connection signal="hit" from="bh_player" to="bh_camera" method="_on_bh_player_hit"]
[connection signal="active_speaker" from="script_handler" to="bh_ui" method="_on_script_handler_active_speaker"]
[connection signal="display_line" from="script_handler" to="bh_ui" method="_on_script_handler_display_line"]
[connection signal="timeout" from="script_handler/Timer" to="script_handler" method="_on_timer_timeout"]
